!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){b.graphlib=a("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(a,b,c){var d=a("./lib");b.exports={Graph:d.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:d.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(a,b,c){function d(a){function b(f){e.has(d,f)||(d[f]=!0,c.push(f),e.each(a.successors(f),b),e.each(a.predecessors(f),b))}var c,d={},f=[];return e.each(a.nodes(),function(a){c=[],b(a),c.length&&f.push(c)}),f}var e=a("../lodash");b.exports=d},{"../lodash":20}],4:[function(a,b,c){function d(a,b,c){f.isArray(b)||(b=[b]);var d=[],g={};return f.each(b,function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);e(a,b,"post"===c,g,d)}),d}function e(a,b,c,d,g){f.has(d,b)||(d[b]=!0,c||g.push(b),f.each(a.neighbors(b),function(b){e(a,b,c,d,g)}),c&&g.push(b))}var f=a("../lodash");b.exports=d},{"../lodash":20}],5:[function(a,b,c){function d(a,b,c){return f.transform(a.nodes(),function(d,f){d[f]=e(a,f,b,c)},{})}var e=a("./dijkstra"),f=a("../lodash");b.exports=d},{"../lodash":20,"./dijkstra":6}],6:[function(a,b,c){function d(a,b,c,d){return e(a,String(b),c||h,d||function(b){return a.outEdges(b)})}function e(a,b,c,d){var e,f,h={},i=new g,j=function(a){var b=a.v!==e?a.v:a.w,d=h[b],g=c(a),j=f.distance+g;if(0>g)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+a+" Weight: "+g);j<d.distance&&(d.distance=j,d.predecessor=e,i.decrease(b,j))};for(a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;h[a]={distance:c},i.add(a,c)});i.size()>0&&(e=i.removeMin(),f=h[e],f.distance!==Number.POSITIVE_INFINITY);)d(e).forEach(j);return h}var f=a("../lodash"),g=a("../data/priority-queue");b.exports=d;var h=f.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(a,b,c){function d(a){return e.filter(f(a),function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}var e=a("../lodash"),f=a("./tarjan");b.exports=d},{"../lodash":20,"./tarjan":14}],8:[function(a,b,c){function d(a,b,c){return e(a,b||g,c||function(b){return a.outEdges(b)})}function e(a,b,c){var d={},e=a.nodes();return e.forEach(function(a){d[a]={},d[a][a]={distance:0},e.forEach(function(b){a!==b&&(d[a][b]={distance:Number.POSITIVE_INFINITY})}),c(a).forEach(function(c){var e=c.v===a?c.w:c.v,f=b(c);d[a][e]={distance:f,predecessor:a}})}),e.forEach(function(a){var b=d[a];e.forEach(function(c){var f=d[c];e.forEach(function(c){var d=f[a],e=b[c],g=f[c],h=d.distance+e.distance;h<g.distance&&(g.distance=h,g.predecessor=e.predecessor)})})}),d}var f=a("../lodash");b.exports=d;var g=f.constant(1)},{"../lodash":20}],9:[function(a,b,c){b.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(a,b,c){function d(a){try{e(a)}catch(b){if(b instanceof e.CycleException)return!1;throw b}return!0}var e=a("./topsort");b.exports=d},{"./topsort":15}],11:[function(a,b,c){function d(a,b){return e(a,b,"post")}var e=a("./dfs");b.exports=d},{"./dfs":4}],12:[function(a,b,c){function d(a,b){return e(a,b,"pre")}var e=a("./dfs");b.exports=d},{"./dfs":4}],13:[function(a,b,c){function d(a,b){function c(a){var c=a.v===d?a.w:a.v,e=j.priority(c);if(void 0!==e){var f=b(a);e>f&&(i[c]=d,j.decrease(c,f))}}var d,h=new f,i={},j=new g;if(0===a.nodeCount())return h;e.each(a.nodes(),function(a){j.add(a,Number.POSITIVE_INFINITY),h.setNode(a)}),j.decrease(a.nodes()[0],0);for(var k=!1;j.size()>0;){if(d=j.removeMin(),e.has(i,d))h.setEdge(d,i[d]);else{if(k)throw new Error("Input graph is not connected: "+a);k=!0}a.nodeEdges(d).forEach(c)}return h}var e=a("../lodash"),f=a("../graph"),g=a("../data/priority-queue");b.exports=d},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(a,b,c){function d(a){function b(h){var i=f[h]={onStack:!0,lowlink:c,index:c++};if(d.push(h),a.successors(h).forEach(function(a){e.has(f,a)?f[a].onStack&&(i.lowlink=Math.min(i.lowlink,f[a].index)):(b(a),i.lowlink=Math.min(i.lowlink,f[a].lowlink))}),i.lowlink===i.index){var j,k=[];do j=d.pop(),f[j].onStack=!1,k.push(j);while(h!==j);g.push(k)}}var c=0,d=[],f={},g=[];return a.nodes().forEach(function(a){e.has(f,a)||b(a)}),g}var e=a("../lodash");b.exports=d},{"../lodash":20}],15:[function(a,b,c){function d(a){function b(h){if(f.has(d,h))throw new e;f.has(c,h)||(d[h]=!0,c[h]=!0,f.each(a.predecessors(h),b),delete d[h],g.push(h))}var c={},d={},g=[];if(f.each(a.sinks(),b),f.size(c)!==a.nodeCount())throw new e;return g}function e(){}var f=a("../lodash");b.exports=d,d.CycleException=e},{"../lodash":20}],16:[function(a,b,c){function d(){this._arr=[],this._keyIndices={}}var e=a("../lodash");b.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return e.has(this._keyIndices,a)},d.prototype.priority=function(a){var b=this._keyIndices[a];return void 0!==b?this._arr[b].priority:void 0},d.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,b){var c=this._keyIndices;if(a=String(a),!e.has(c,a)){var d=this._arr,f=d.length;return c[a]=f,d.push({key:a,priority:b}),this._decrease(f),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b,this._decrease(c)},d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;c<b.length&&(e=b[c].priority<b[e].priority?c:e,d<b.length&&(e=b[d].priority<b[e].priority?d:e),e!==a&&(this._swap(a,e),this._heapify(e)))},d.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&(b=a>>1,!(c[b].priority<d));)this._swap(a,b),a=b},d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a],f=c[b];c[a]=f,c[b]=e,d[f.key]=a,d[e.key]=b}},{"../lodash":20}],17:[function(a,b,c){"use strict";function d(a){this._isDirected=j.has(a,"directed")?a.directed:!0,this._isMultigraph=j.has(a,"multigraph")?a.multigraph:!1,this._isCompound=j.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j.constant(void 0),this._defaultEdgeLabelFn=j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function e(a,b){a[b]?a[b]++:a[b]=1}function f(a,b){--a[b]||delete a[b]}function g(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}return e+m+f+m+(j.isUndefined(d)?k:d)}function h(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}var h={v:e,w:f};return d&&(h.name=d),h}function i(a,b){return g(a,b.v,b.w,b.name)}var j=a("./lodash");b.exports=d;var k="\x00",l="\x00",m="";d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(a){return this._label=a,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultNodeLabelFn=a,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return j.keys(this._nodes)},d.prototype.sources=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._in[a])},this)},d.prototype.sinks=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._out[a])},this)},d.prototype.setNodes=function(a,b){var c=arguments;return j.each(a,function(a){c.length>1?this.setNode(a,b):this.setNode(a)},this),this},d.prototype.setNode=function(a,b){return j.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=l,this._children[a]={},this._children[l][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},d.prototype.node=function(a){return this._nodes[a]},d.prototype.hasNode=function(a){return j.has(this._nodes,a)},d.prototype.removeNode=function(a){var b=this;if(j.has(this._nodes,a)){var c=function(a){b.removeEdge(b._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],j.each(this.children(a),function(a){this.setParent(a)},this),delete this._children[a]),j.each(j.keys(this._in[a]),c),delete this._in[a],delete this._preds[a],j.each(j.keys(this._out[a]),c),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},d.prototype.setParent=function(a,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j.isUndefined(b))b=l;else{b+="";for(var c=b;!j.isUndefined(c);c=this.parent(c))if(c===a)throw new Error("Setting "+b+" as parent of "+a+" would create create a cycle");this.setNode(b)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=b,this._children[b][a]=!0,this},d.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},d.prototype.parent=function(a){if(this._isCompound){var b=this._parent[a];if(b!==l)return b}},d.prototype.children=function(a){if(j.isUndefined(a)&&(a=l),this._isCompound){var b=this._children[a];if(b)return j.keys(b)}else{if(a===l)return this.nodes();if(this.hasNode(a))return[]}},d.prototype.predecessors=function(a){var b=this._preds[a];return b?j.keys(b):void 0},d.prototype.successors=function(a){var b=this._sucs[a];return b?j.keys(b):void 0},d.prototype.neighbors=function(a){var b=this.predecessors(a);return b?j.union(b,this.successors(a)):void 0},d.prototype.filterNodes=function(a){function b(a){var f=d.parent(a);return void 0===f||c.hasNode(f)?(e[a]=f,f):f in e?e[f]:b(f)}var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph()),j.each(this._nodes,function(b,d){a(d)&&c.setNode(d,b)},this),j.each(this._edgeObjs,function(a){c.hasNode(a.v)&&c.hasNode(a.w)&&c.setEdge(a,this.edge(a))},this);var d=this,e={};return this._isCompound&&j.each(c.nodes(),function(a){c.setParent(a,b(a))}),c},d.prototype.setDefaultEdgeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultEdgeLabelFn=a,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return j.values(this._edgeObjs)},d.prototype.setPath=function(a,b){var c=this,d=arguments;return j.reduce(a,function(a,e){return d.length>1?c.setEdge(a,e,b):c.setEdge(a,e),e}),this},d.prototype.setEdge=function(){var a,b,c,d,f=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(a=i.v,b=i.w,c=i.name,2===arguments.length&&(d=arguments[1],f=!0)):(a=i,b=arguments[1],c=arguments[3],arguments.length>2&&(d=arguments[2],f=!0)),a=""+a,b=""+b,j.isUndefined(c)||(c=""+c);var k=g(this._isDirected,a,b,c);if(j.has(this._edgeLabels,k))return f&&(this._edgeLabels[k]=d),this;if(!j.isUndefined(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[k]=f?d:this._defaultEdgeLabelFn(a,b,c);var l=h(this._isDirected,a,b,c);return a=l.v,b=l.w,Object.freeze(l),this._edgeObjs[k]=l,e(this._preds[b],a),e(this._sucs[a],b),this._in[b][k]=l,this._out[a][k]=l,this._edgeCount++,this},d.prototype.edge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return this._edgeLabels[d]},d.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return j.has(this._edgeLabels,d)},d.prototype.removeEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c),e=this._edgeObjs[d];return e&&(a=e.v,b=e.w,delete this._edgeLabels[d],delete this._edgeObjs[d],f(this._preds[b],a),f(this._sucs[a],b),delete this._in[b][d],delete this._out[a][d],this._edgeCount--),this},d.prototype.inEdges=function(a,b){var c=this._in[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.v===b}):d}},d.prototype.outEdges=function(a,b){var c=this._out[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.w===b}):d}},d.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);return c?c.concat(this.outEdges(a,b)):void 0}},{"./lodash":20}],18:[function(a,b,c){b.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":17,"./version":21}],19:[function(a,b,c){function d(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:e(a),edges:f(a)};return h.isUndefined(a.graph())||(b.value=h.clone(a.graph())),b}function e(a){return h.map(a.nodes(),function(b){var c=a.node(b),d=a.parent(b),e={v:b};return h.isUndefined(c)||(e.value=c),h.isUndefined(d)||(e.parent=d),e})}function f(a){return h.map(a.edges(),function(b){var c=a.edge(b),d={v:b.v,w:b.w};return h.isUndefined(b.name)||(d.name=b.name),h.isUndefined(c)||(d.value=c),d})}function g(a){var b=new i(a.options).setGraph(a.value);return h.each(a.nodes,function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),h.each(a.edges,function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b}var h=a("./lodash"),i=a("./graph");b.exports={write:d,read:g}},{"./graph":17,"./lodash":20}],20:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],21:[function(a,b,c){b.exports="1.0.7"},{}]},{},[1]),!function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){b.graphlib=a("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(a,b,c){var d=a("./lib");b.exports={Graph:d.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:d.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(a,b,c){function d(a){function b(f){e.has(d,f)||(d[f]=!0,c.push(f),e.each(a.successors(f),b),e.each(a.predecessors(f),b))}var c,d={},f=[];return e.each(a.nodes(),function(a){c=[],b(a),c.length&&f.push(c)}),f}var e=a("../lodash");b.exports=d},{"../lodash":20}],4:[function(a,b,c){function d(a,b,c){f.isArray(b)||(b=[b]);var d=[],g={};return f.each(b,function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);e(a,b,"post"===c,g,d)}),d}function e(a,b,c,d,g){f.has(d,b)||(d[b]=!0,c||g.push(b),f.each(a.neighbors(b),function(b){e(a,b,c,d,g)}),c&&g.push(b))}var f=a("../lodash");b.exports=d},{"../lodash":20}],5:[function(a,b,c){function d(a,b,c){return f.transform(a.nodes(),function(d,f){d[f]=e(a,f,b,c)},{})}var e=a("./dijkstra"),f=a("../lodash");b.exports=d},{"../lodash":20,"./dijkstra":6}],6:[function(a,b,c){function d(a,b,c,d){return e(a,String(b),c||h,d||function(b){return a.outEdges(b)})}function e(a,b,c,d){var e,f,h={},i=new g,j=function(a){var b=a.v!==e?a.v:a.w,d=h[b],g=c(a),j=f.distance+g;if(0>g)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+a+" Weight: "+g);j<d.distance&&(d.distance=j,d.predecessor=e,i.decrease(b,j))};for(a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;h[a]={distance:c},i.add(a,c)});i.size()>0&&(e=i.removeMin(),f=h[e],f.distance!==Number.POSITIVE_INFINITY);)d(e).forEach(j);return h}var f=a("../lodash"),g=a("../data/priority-queue");b.exports=d;var h=f.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(a,b,c){function d(a){return e.filter(f(a),function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}var e=a("../lodash"),f=a("./tarjan");b.exports=d},{"../lodash":20,"./tarjan":14}],8:[function(a,b,c){function d(a,b,c){return e(a,b||g,c||function(b){return a.outEdges(b)})}function e(a,b,c){var d={},e=a.nodes();return e.forEach(function(a){d[a]={},d[a][a]={distance:0},e.forEach(function(b){a!==b&&(d[a][b]={distance:Number.POSITIVE_INFINITY})}),c(a).forEach(function(c){var e=c.v===a?c.w:c.v,f=b(c);d[a][e]={distance:f,predecessor:a}})}),e.forEach(function(a){var b=d[a];e.forEach(function(c){var f=d[c];e.forEach(function(c){var d=f[a],e=b[c],g=f[c],h=d.distance+e.distance;h<g.distance&&(g.distance=h,g.predecessor=e.predecessor)})})}),d}var f=a("../lodash");b.exports=d;var g=f.constant(1)},{"../lodash":20}],9:[function(a,b,c){b.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(a,b,c){function d(a){try{e(a)}catch(b){if(b instanceof e.CycleException)return!1;throw b}return!0}var e=a("./topsort");b.exports=d},{"./topsort":15}],11:[function(a,b,c){function d(a,b){return e(a,b,"post")}var e=a("./dfs");b.exports=d},{"./dfs":4}],12:[function(a,b,c){function d(a,b){return e(a,b,"pre")}var e=a("./dfs");b.exports=d},{"./dfs":4}],13:[function(a,b,c){function d(a,b){function c(a){var c=a.v===d?a.w:a.v,e=j.priority(c);if(void 0!==e){var f=b(a);e>f&&(i[c]=d,j.decrease(c,f))}}var d,h=new f,i={},j=new g;if(0===a.nodeCount())return h;e.each(a.nodes(),function(a){j.add(a,Number.POSITIVE_INFINITY),h.setNode(a)}),j.decrease(a.nodes()[0],0);for(var k=!1;j.size()>0;){if(d=j.removeMin(),e.has(i,d))h.setEdge(d,i[d]);else{if(k)throw new Error("Input graph is not connected: "+a);k=!0}a.nodeEdges(d).forEach(c)}return h}var e=a("../lodash"),f=a("../graph"),g=a("../data/priority-queue");b.exports=d},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(a,b,c){function d(a){function b(h){var i=f[h]={onStack:!0,lowlink:c,index:c++};if(d.push(h),a.successors(h).forEach(function(a){e.has(f,a)?f[a].onStack&&(i.lowlink=Math.min(i.lowlink,f[a].index)):(b(a),i.lowlink=Math.min(i.lowlink,f[a].lowlink))}),i.lowlink===i.index){var j,k=[];do j=d.pop(),f[j].onStack=!1,k.push(j);while(h!==j);g.push(k)}}var c=0,d=[],f={},g=[];return a.nodes().forEach(function(a){e.has(f,a)||b(a)}),g}var e=a("../lodash");b.exports=d},{"../lodash":20}],15:[function(a,b,c){function d(a){function b(h){if(f.has(d,h))throw new e;f.has(c,h)||(d[h]=!0,c[h]=!0,f.each(a.predecessors(h),b),delete d[h],g.push(h))}var c={},d={},g=[];if(f.each(a.sinks(),b),f.size(c)!==a.nodeCount())throw new e;return g}function e(){}var f=a("../lodash");b.exports=d,d.CycleException=e},{"../lodash":20}],16:[function(a,b,c){function d(){this._arr=[],this._keyIndices={}}var e=a("../lodash");b.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return e.has(this._keyIndices,a)},d.prototype.priority=function(a){var b=this._keyIndices[a];return void 0!==b?this._arr[b].priority:void 0},d.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,b){var c=this._keyIndices;if(a=String(a),!e.has(c,a)){var d=this._arr,f=d.length;return c[a]=f,d.push({key:a,priority:b}),this._decrease(f),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b,this._decrease(c)},d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;c<b.length&&(e=b[c].priority<b[e].priority?c:e,d<b.length&&(e=b[d].priority<b[e].priority?d:e),e!==a&&(this._swap(a,e),this._heapify(e)))},d.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&(b=a>>1,!(c[b].priority<d));)this._swap(a,b),a=b},d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a],f=c[b];c[a]=f,c[b]=e,d[f.key]=a,d[e.key]=b}},{"../lodash":20}],17:[function(a,b,c){"use strict";function d(a){this._isDirected=j.has(a,"directed")?a.directed:!0,this._isMultigraph=j.has(a,"multigraph")?a.multigraph:!1,this._isCompound=j.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j.constant(void 0),this._defaultEdgeLabelFn=j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function e(a,b){a[b]?a[b]++:a[b]=1}function f(a,b){--a[b]||delete a[b]}function g(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}return e+m+f+m+(j.isUndefined(d)?k:d)}function h(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}var h={v:e,w:f};return d&&(h.name=d),h}function i(a,b){return g(a,b.v,b.w,b.name)}var j=a("./lodash");b.exports=d;var k="\x00",l="\x00",m="";d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(a){return this._label=a,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultNodeLabelFn=a,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return j.keys(this._nodes)},d.prototype.sources=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._in[a])},this)},d.prototype.sinks=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._out[a])},this)},d.prototype.setNodes=function(a,b){var c=arguments;return j.each(a,function(a){c.length>1?this.setNode(a,b):this.setNode(a)},this),this},d.prototype.setNode=function(a,b){return j.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=l,this._children[a]={},this._children[l][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},d.prototype.node=function(a){return this._nodes[a]},d.prototype.hasNode=function(a){return j.has(this._nodes,a)},d.prototype.removeNode=function(a){var b=this;if(j.has(this._nodes,a)){var c=function(a){b.removeEdge(b._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],j.each(this.children(a),function(a){this.setParent(a)},this),delete this._children[a]),j.each(j.keys(this._in[a]),c),delete this._in[a],delete this._preds[a],j.each(j.keys(this._out[a]),c),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},d.prototype.setParent=function(a,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j.isUndefined(b))b=l;else{b+="";for(var c=b;!j.isUndefined(c);c=this.parent(c))if(c===a)throw new Error("Setting "+b+" as parent of "+a+" would create create a cycle");this.setNode(b)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=b,this._children[b][a]=!0,this},d.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},d.prototype.parent=function(a){if(this._isCompound){var b=this._parent[a];if(b!==l)return b}},d.prototype.children=function(a){if(j.isUndefined(a)&&(a=l),this._isCompound){var b=this._children[a];if(b)return j.keys(b)}else{if(a===l)return this.nodes();if(this.hasNode(a))return[]}},d.prototype.predecessors=function(a){var b=this._preds[a];return b?j.keys(b):void 0},d.prototype.successors=function(a){var b=this._sucs[a];return b?j.keys(b):void 0},d.prototype.neighbors=function(a){var b=this.predecessors(a);return b?j.union(b,this.successors(a)):void 0},d.prototype.filterNodes=function(a){function b(a){var f=d.parent(a);return void 0===f||c.hasNode(f)?(e[a]=f,f):f in e?e[f]:b(f)}var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph()),j.each(this._nodes,function(b,d){a(d)&&c.setNode(d,b)},this),j.each(this._edgeObjs,function(a){c.hasNode(a.v)&&c.hasNode(a.w)&&c.setEdge(a,this.edge(a))},this);var d=this,e={};return this._isCompound&&j.each(c.nodes(),function(a){c.setParent(a,b(a))}),c},d.prototype.setDefaultEdgeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultEdgeLabelFn=a,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return j.values(this._edgeObjs)},d.prototype.setPath=function(a,b){var c=this,d=arguments;return j.reduce(a,function(a,e){return d.length>1?c.setEdge(a,e,b):c.setEdge(a,e),e}),this},d.prototype.setEdge=function(){var a,b,c,d,f=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(a=i.v,b=i.w,c=i.name,2===arguments.length&&(d=arguments[1],f=!0)):(a=i,b=arguments[1],c=arguments[3],arguments.length>2&&(d=arguments[2],f=!0)),a=""+a,b=""+b,j.isUndefined(c)||(c=""+c);var k=g(this._isDirected,a,b,c);if(j.has(this._edgeLabels,k))return f&&(this._edgeLabels[k]=d),this;if(!j.isUndefined(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[k]=f?d:this._defaultEdgeLabelFn(a,b,c);var l=h(this._isDirected,a,b,c);return a=l.v,b=l.w,Object.freeze(l),this._edgeObjs[k]=l,e(this._preds[b],a),e(this._sucs[a],b),this._in[b][k]=l,this._out[a][k]=l,this._edgeCount++,this},d.prototype.edge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return this._edgeLabels[d]},d.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return j.has(this._edgeLabels,d)},d.prototype.removeEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c),e=this._edgeObjs[d];return e&&(a=e.v,b=e.w,delete this._edgeLabels[d],delete this._edgeObjs[d],f(this._preds[b],a),f(this._sucs[a],b),delete this._in[b][d],delete this._out[a][d],this._edgeCount--),this},d.prototype.inEdges=function(a,b){var c=this._in[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.v===b}):d}},d.prototype.outEdges=function(a,b){var c=this._out[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.w===b}):d}},d.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);return c?c.concat(this.outEdges(a,b)):void 0}},{"./lodash":20}],18:[function(a,b,c){b.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":17,"./version":21}],19:[function(a,b,c){function d(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:e(a),edges:f(a)};return h.isUndefined(a.graph())||(b.value=h.clone(a.graph())),b}function e(a){return h.map(a.nodes(),function(b){var c=a.node(b),d=a.parent(b),e={v:b};return h.isUndefined(c)||(e.value=c),h.isUndefined(d)||(e.parent=d),e})}function f(a){return h.map(a.edges(),function(b){var c=a.edge(b),d={v:b.v,w:b.w};return h.isUndefined(b.name)||(d.name=b.name),h.isUndefined(c)||(d.value=c),d})}function g(a){var b=new i(a.options).setGraph(a.value);return h.each(a.nodes,function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),h.each(a.edges,function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b}var h=a("./lodash"),i=a("./graph");b.exports={write:d,read:g}},{"./graph":17,"./lodash":20}],20:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],21:[function(a,b,c){b.exports="1.0.7"},{}]},{},[1]),!function c(a,b,d){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,c,a,b,d)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(b){b.graphlib=a("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(a,b,c){var d=a("./lib");b.exports={Graph:d.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:d.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(a,b,c){function d(a){function b(f){e.has(d,f)||(d[f]=!0,c.push(f),e.each(a.successors(f),b),e.each(a.predecessors(f),b))}var c,d={},f=[];return e.each(a.nodes(),function(a){c=[],b(a),c.length&&f.push(c)}),f}var e=a("../lodash");b.exports=d},{"../lodash":20}],4:[function(a,b,c){function d(a,b,c){f.isArray(b)||(b=[b]);var d=[],g={};return f.each(b,function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);e(a,b,"post"===c,g,d)}),d}function e(a,b,c,d,g){f.has(d,b)||(d[b]=!0,c||g.push(b),f.each(a.neighbors(b),function(b){e(a,b,c,d,g)}),c&&g.push(b))}var f=a("../lodash");b.exports=d},{"../lodash":20}],5:[function(a,b,c){function d(a,b,c){return f.transform(a.nodes(),function(d,f){d[f]=e(a,f,b,c)},{})}var e=a("./dijkstra"),f=a("../lodash");b.exports=d},{"../lodash":20,"./dijkstra":6}],6:[function(a,b,c){function d(a,b,c,d){return e(a,String(b),c||h,d||function(b){return a.outEdges(b)})}function e(a,b,c,d){var e,f,h={},i=new g,j=function(a){var b=a.v!==e?a.v:a.w,d=h[b],g=c(a),j=f.distance+g;if(0>g)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+a+" Weight: "+g);j<d.distance&&(d.distance=j,d.predecessor=e,i.decrease(b,j))};for(a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;h[a]={distance:c},i.add(a,c)});i.size()>0&&(e=i.removeMin(),f=h[e],f.distance!==Number.POSITIVE_INFINITY);)d(e).forEach(j);return h}var f=a("../lodash"),g=a("../data/priority-queue");b.exports=d;var h=f.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(a,b,c){function d(a){return e.filter(f(a),function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}var e=a("../lodash"),f=a("./tarjan");b.exports=d},{"../lodash":20,"./tarjan":14}],8:[function(a,b,c){function d(a,b,c){return e(a,b||g,c||function(b){return a.outEdges(b)})}function e(a,b,c){var d={},e=a.nodes();return e.forEach(function(a){d[a]={},d[a][a]={
distance:0},e.forEach(function(b){a!==b&&(d[a][b]={distance:Number.POSITIVE_INFINITY})}),c(a).forEach(function(c){var e=c.v===a?c.w:c.v,f=b(c);d[a][e]={distance:f,predecessor:a}})}),e.forEach(function(a){var b=d[a];e.forEach(function(c){var f=d[c];e.forEach(function(c){var d=f[a],e=b[c],g=f[c],h=d.distance+e.distance;h<g.distance&&(g.distance=h,g.predecessor=e.predecessor)})})}),d}var f=a("../lodash");b.exports=d;var g=f.constant(1)},{"../lodash":20}],9:[function(a,b,c){b.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(a,b,c){function d(a){try{e(a)}catch(b){if(b instanceof e.CycleException)return!1;throw b}return!0}var e=a("./topsort");b.exports=d},{"./topsort":15}],11:[function(a,b,c){function d(a,b){return e(a,b,"post")}var e=a("./dfs");b.exports=d},{"./dfs":4}],12:[function(a,b,c){function d(a,b){return e(a,b,"pre")}var e=a("./dfs");b.exports=d},{"./dfs":4}],13:[function(a,b,c){function d(a,b){function c(a){var c=a.v===d?a.w:a.v,e=j.priority(c);if(void 0!==e){var f=b(a);e>f&&(i[c]=d,j.decrease(c,f))}}var d,h=new f,i={},j=new g;if(0===a.nodeCount())return h;e.each(a.nodes(),function(a){j.add(a,Number.POSITIVE_INFINITY),h.setNode(a)}),j.decrease(a.nodes()[0],0);for(var k=!1;j.size()>0;){if(d=j.removeMin(),e.has(i,d))h.setEdge(d,i[d]);else{if(k)throw new Error("Input graph is not connected: "+a);k=!0}a.nodeEdges(d).forEach(c)}return h}var e=a("../lodash"),f=a("../graph"),g=a("../data/priority-queue");b.exports=d},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(a,b,c){function d(a){function b(h){var i=f[h]={onStack:!0,lowlink:c,index:c++};if(d.push(h),a.successors(h).forEach(function(a){e.has(f,a)?f[a].onStack&&(i.lowlink=Math.min(i.lowlink,f[a].index)):(b(a),i.lowlink=Math.min(i.lowlink,f[a].lowlink))}),i.lowlink===i.index){var j,k=[];do j=d.pop(),f[j].onStack=!1,k.push(j);while(h!==j);g.push(k)}}var c=0,d=[],f={},g=[];return a.nodes().forEach(function(a){e.has(f,a)||b(a)}),g}var e=a("../lodash");b.exports=d},{"../lodash":20}],15:[function(a,b,c){function d(a){function b(h){if(f.has(d,h))throw new e;f.has(c,h)||(d[h]=!0,c[h]=!0,f.each(a.predecessors(h),b),delete d[h],g.push(h))}var c={},d={},g=[];if(f.each(a.sinks(),b),f.size(c)!==a.nodeCount())throw new e;return g}function e(){}var f=a("../lodash");b.exports=d,d.CycleException=e},{"../lodash":20}],16:[function(a,b,c){function d(){this._arr=[],this._keyIndices={}}var e=a("../lodash");b.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return e.has(this._keyIndices,a)},d.prototype.priority=function(a){var b=this._keyIndices[a];return void 0!==b?this._arr[b].priority:void 0},d.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,b){var c=this._keyIndices;if(a=String(a),!e.has(c,a)){var d=this._arr,f=d.length;return c[a]=f,d.push({key:a,priority:b}),this._decrease(f),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b,this._decrease(c)},d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;c<b.length&&(e=b[c].priority<b[e].priority?c:e,d<b.length&&(e=b[d].priority<b[e].priority?d:e),e!==a&&(this._swap(a,e),this._heapify(e)))},d.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&(b=a>>1,!(c[b].priority<d));)this._swap(a,b),a=b},d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a],f=c[b];c[a]=f,c[b]=e,d[f.key]=a,d[e.key]=b}},{"../lodash":20}],17:[function(a,b,c){"use strict";function d(a){this._isDirected=j.has(a,"directed")?a.directed:!0,this._isMultigraph=j.has(a,"multigraph")?a.multigraph:!1,this._isCompound=j.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j.constant(void 0),this._defaultEdgeLabelFn=j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function e(a,b){a[b]?a[b]++:a[b]=1}function f(a,b){--a[b]||delete a[b]}function g(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}return e+m+f+m+(j.isUndefined(d)?k:d)}function h(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}var h={v:e,w:f};return d&&(h.name=d),h}function i(a,b){return g(a,b.v,b.w,b.name)}var j=a("./lodash");b.exports=d;var k="\x00",l="\x00",m="";d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(a){return this._label=a,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultNodeLabelFn=a,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return j.keys(this._nodes)},d.prototype.sources=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._in[a])},this)},d.prototype.sinks=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._out[a])},this)},d.prototype.setNodes=function(a,b){var c=arguments;return j.each(a,function(a){c.length>1?this.setNode(a,b):this.setNode(a)},this),this},d.prototype.setNode=function(a,b){return j.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=l,this._children[a]={},this._children[l][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},d.prototype.node=function(a){return this._nodes[a]},d.prototype.hasNode=function(a){return j.has(this._nodes,a)},d.prototype.removeNode=function(a){var b=this;if(j.has(this._nodes,a)){var c=function(a){b.removeEdge(b._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],j.each(this.children(a),function(a){this.setParent(a)},this),delete this._children[a]),j.each(j.keys(this._in[a]),c),delete this._in[a],delete this._preds[a],j.each(j.keys(this._out[a]),c),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},d.prototype.setParent=function(a,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j.isUndefined(b))b=l;else{b+="";for(var c=b;!j.isUndefined(c);c=this.parent(c))if(c===a)throw new Error("Setting "+b+" as parent of "+a+" would create create a cycle");this.setNode(b)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=b,this._children[b][a]=!0,this},d.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},d.prototype.parent=function(a){if(this._isCompound){var b=this._parent[a];if(b!==l)return b}},d.prototype.children=function(a){if(j.isUndefined(a)&&(a=l),this._isCompound){var b=this._children[a];if(b)return j.keys(b)}else{if(a===l)return this.nodes();if(this.hasNode(a))return[]}},d.prototype.predecessors=function(a){var b=this._preds[a];return b?j.keys(b):void 0},d.prototype.successors=function(a){var b=this._sucs[a];return b?j.keys(b):void 0},d.prototype.neighbors=function(a){var b=this.predecessors(a);return b?j.union(b,this.successors(a)):void 0},d.prototype.filterNodes=function(a){function b(a){var f=d.parent(a);return void 0===f||c.hasNode(f)?(e[a]=f,f):f in e?e[f]:b(f)}var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph()),j.each(this._nodes,function(b,d){a(d)&&c.setNode(d,b)},this),j.each(this._edgeObjs,function(a){c.hasNode(a.v)&&c.hasNode(a.w)&&c.setEdge(a,this.edge(a))},this);var d=this,e={};return this._isCompound&&j.each(c.nodes(),function(a){c.setParent(a,b(a))}),c},d.prototype.setDefaultEdgeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultEdgeLabelFn=a,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return j.values(this._edgeObjs)},d.prototype.setPath=function(a,b){var c=this,d=arguments;return j.reduce(a,function(a,e){return d.length>1?c.setEdge(a,e,b):c.setEdge(a,e),e}),this},d.prototype.setEdge=function(){var a,b,c,d,f=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(a=i.v,b=i.w,c=i.name,2===arguments.length&&(d=arguments[1],f=!0)):(a=i,b=arguments[1],c=arguments[3],arguments.length>2&&(d=arguments[2],f=!0)),a=""+a,b=""+b,j.isUndefined(c)||(c=""+c);var k=g(this._isDirected,a,b,c);if(j.has(this._edgeLabels,k))return f&&(this._edgeLabels[k]=d),this;if(!j.isUndefined(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[k]=f?d:this._defaultEdgeLabelFn(a,b,c);var l=h(this._isDirected,a,b,c);return a=l.v,b=l.w,Object.freeze(l),this._edgeObjs[k]=l,e(this._preds[b],a),e(this._sucs[a],b),this._in[b][k]=l,this._out[a][k]=l,this._edgeCount++,this},d.prototype.edge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return this._edgeLabels[d]},d.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return j.has(this._edgeLabels,d)},d.prototype.removeEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c),e=this._edgeObjs[d];return e&&(a=e.v,b=e.w,delete this._edgeLabels[d],delete this._edgeObjs[d],f(this._preds[b],a),f(this._sucs[a],b),delete this._in[b][d],delete this._out[a][d],this._edgeCount--),this},d.prototype.inEdges=function(a,b){var c=this._in[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.v===b}):d}},d.prototype.outEdges=function(a,b){var c=this._out[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.w===b}):d}},d.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);return c?c.concat(this.outEdges(a,b)):void 0}},{"./lodash":20}],18:[function(a,b,c){b.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":17,"./version":21}],19:[function(a,b,c){function d(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:e(a),edges:f(a)};return h.isUndefined(a.graph())||(b.value=h.clone(a.graph())),b}function e(a){return h.map(a.nodes(),function(b){var c=a.node(b),d=a.parent(b),e={v:b};return h.isUndefined(c)||(e.value=c),h.isUndefined(d)||(e.parent=d),e})}function f(a){return h.map(a.edges(),function(b){var c=a.edge(b),d={v:b.v,w:b.w};return h.isUndefined(b.name)||(d.name=b.name),h.isUndefined(c)||(d.value=c),d})}function g(a){var b=new i(a.options).setGraph(a.value);return h.each(a.nodes,function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),h.each(a.edges,function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b}var h=a("./lodash"),i=a("./graph");b.exports={write:d,read:g}},{"./graph":17,"./lodash":20}],20:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],21:[function(a,b,c){b.exports="1.0.7"},{}]},{},[1]),!function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){(function(b){b.graphlib=a("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(a,b,c){var d=a("./lib");b.exports={Graph:d.Graph,json:a("./lib/json"),alg:a("./lib/alg"),version:d.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(a,b,c){function d(a){function b(f){e.has(d,f)||(d[f]=!0,c.push(f),e.each(a.successors(f),b),e.each(a.predecessors(f),b))}var c,d={},f=[];return e.each(a.nodes(),function(a){c=[],b(a),c.length&&f.push(c)}),f}var e=a("../lodash");b.exports=d},{"../lodash":20}],4:[function(a,b,c){function d(a,b,c){f.isArray(b)||(b=[b]);var d=[],g={};return f.each(b,function(b){if(!a.hasNode(b))throw new Error("Graph does not have node: "+b);e(a,b,"post"===c,g,d)}),d}function e(a,b,c,d,g){f.has(d,b)||(d[b]=!0,c||g.push(b),f.each(a.neighbors(b),function(b){e(a,b,c,d,g)}),c&&g.push(b))}var f=a("../lodash");b.exports=d},{"../lodash":20}],5:[function(a,b,c){function d(a,b,c){return f.transform(a.nodes(),function(d,f){d[f]=e(a,f,b,c)},{})}var e=a("./dijkstra"),f=a("../lodash");b.exports=d},{"../lodash":20,"./dijkstra":6}],6:[function(a,b,c){function d(a,b,c,d){return e(a,String(b),c||h,d||function(b){return a.outEdges(b)})}function e(a,b,c,d){var e,f,h={},i=new g,j=function(a){var b=a.v!==e?a.v:a.w,d=h[b],g=c(a),j=f.distance+g;if(0>g)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+a+" Weight: "+g);j<d.distance&&(d.distance=j,d.predecessor=e,i.decrease(b,j))};for(a.nodes().forEach(function(a){var c=a===b?0:Number.POSITIVE_INFINITY;h[a]={distance:c},i.add(a,c)});i.size()>0&&(e=i.removeMin(),f=h[e],f.distance!==Number.POSITIVE_INFINITY);)d(e).forEach(j);return h}var f=a("../lodash"),g=a("../data/priority-queue");b.exports=d;var h=f.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(a,b,c){function d(a){return e.filter(f(a),function(b){return b.length>1||1===b.length&&a.hasEdge(b[0],b[0])})}var e=a("../lodash"),f=a("./tarjan");b.exports=d},{"../lodash":20,"./tarjan":14}],8:[function(a,b,c){function d(a,b,c){return e(a,b||g,c||function(b){return a.outEdges(b)})}function e(a,b,c){var d={},e=a.nodes();return e.forEach(function(a){d[a]={},d[a][a]={distance:0},e.forEach(function(b){a!==b&&(d[a][b]={distance:Number.POSITIVE_INFINITY})}),c(a).forEach(function(c){var e=c.v===a?c.w:c.v,f=b(c);d[a][e]={distance:f,predecessor:a}})}),e.forEach(function(a){var b=d[a];e.forEach(function(c){var f=d[c];e.forEach(function(c){var d=f[a],e=b[c],g=f[c],h=d.distance+e.distance;h<g.distance&&(g.distance=h,g.predecessor=e.predecessor)})})}),d}var f=a("../lodash");b.exports=d;var g=f.constant(1)},{"../lodash":20}],9:[function(a,b,c){b.exports={components:a("./components"),dijkstra:a("./dijkstra"),dijkstraAll:a("./dijkstra-all"),findCycles:a("./find-cycles"),floydWarshall:a("./floyd-warshall"),isAcyclic:a("./is-acyclic"),postorder:a("./postorder"),preorder:a("./preorder"),prim:a("./prim"),tarjan:a("./tarjan"),topsort:a("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(a,b,c){function d(a){try{e(a)}catch(b){if(b instanceof e.CycleException)return!1;throw b}return!0}var e=a("./topsort");b.exports=d},{"./topsort":15}],11:[function(a,b,c){function d(a,b){return e(a,b,"post")}var e=a("./dfs");b.exports=d},{"./dfs":4}],12:[function(a,b,c){function d(a,b){return e(a,b,"pre")}var e=a("./dfs");b.exports=d},{"./dfs":4}],13:[function(a,b,c){function d(a,b){function c(a){var c=a.v===d?a.w:a.v,e=j.priority(c);if(void 0!==e){var f=b(a);e>f&&(i[c]=d,j.decrease(c,f))}}var d,h=new f,i={},j=new g;if(0===a.nodeCount())return h;e.each(a.nodes(),function(a){j.add(a,Number.POSITIVE_INFINITY),h.setNode(a)}),j.decrease(a.nodes()[0],0);for(var k=!1;j.size()>0;){if(d=j.removeMin(),e.has(i,d))h.setEdge(d,i[d]);else{if(k)throw new Error("Input graph is not connected: "+a);k=!0}a.nodeEdges(d).forEach(c)}return h}var e=a("../lodash"),f=a("../graph"),g=a("../data/priority-queue");b.exports=d},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(a,b,c){function d(a){function b(h){var i=f[h]={onStack:!0,lowlink:c,index:c++};if(d.push(h),a.successors(h).forEach(function(a){e.has(f,a)?f[a].onStack&&(i.lowlink=Math.min(i.lowlink,f[a].index)):(b(a),i.lowlink=Math.min(i.lowlink,f[a].lowlink))}),i.lowlink===i.index){var j,k=[];do j=d.pop(),f[j].onStack=!1,k.push(j);while(h!==j);g.push(k)}}var c=0,d=[],f={},g=[];return a.nodes().forEach(function(a){e.has(f,a)||b(a)}),g}var e=a("../lodash");b.exports=d},{"../lodash":20}],15:[function(a,b,c){function d(a){function b(h){if(f.has(d,h))throw new e;f.has(c,h)||(d[h]=!0,c[h]=!0,f.each(a.predecessors(h),b),delete d[h],g.push(h))}var c={},d={},g=[];if(f.each(a.sinks(),b),f.size(c)!==a.nodeCount())throw new e;return g}function e(){}var f=a("../lodash");b.exports=d,d.CycleException=e},{"../lodash":20}],16:[function(a,b,c){function d(){this._arr=[],this._keyIndices={}}var e=a("../lodash");b.exports=d,d.prototype.size=function(){return this._arr.length},d.prototype.keys=function(){return this._arr.map(function(a){return a.key})},d.prototype.has=function(a){return e.has(this._keyIndices,a)},d.prototype.priority=function(a){var b=this._keyIndices[a];return void 0!==b?this._arr[b].priority:void 0},d.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},d.prototype.add=function(a,b){var c=this._keyIndices;if(a=String(a),!e.has(c,a)){var d=this._arr,f=d.length;return c[a]=f,d.push({key:a,priority:b}),this._decrease(f),!0}return!1},d.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var a=this._arr.pop();return delete this._keyIndices[a.key],this._heapify(0),a.key},d.prototype.decrease=function(a,b){var c=this._keyIndices[a];if(b>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+a+" Old: "+this._arr[c].priority+" New: "+b);this._arr[c].priority=b,this._decrease(c)},d.prototype._heapify=function(a){var b=this._arr,c=2*a,d=c+1,e=a;c<b.length&&(e=b[c].priority<b[e].priority?c:e,d<b.length&&(e=b[d].priority<b[e].priority?d:e),e!==a&&(this._swap(a,e),this._heapify(e)))},d.prototype._decrease=function(a){for(var b,c=this._arr,d=c[a].priority;0!==a&&(b=a>>1,!(c[b].priority<d));)this._swap(a,b),a=b},d.prototype._swap=function(a,b){var c=this._arr,d=this._keyIndices,e=c[a],f=c[b];c[a]=f,c[b]=e,d[f.key]=a,d[e.key]=b}},{"../lodash":20}],17:[function(a,b,c){"use strict";function d(a){this._isDirected=j.has(a,"directed")?a.directed:!0,this._isMultigraph=j.has(a,"multigraph")?a.multigraph:!1,this._isCompound=j.has(a,"compound")?a.compound:!1,this._label=void 0,this._defaultNodeLabelFn=j.constant(void 0),this._defaultEdgeLabelFn=j.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[l]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function e(a,b){a[b]?a[b]++:a[b]=1}function f(a,b){--a[b]||delete a[b]}function g(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}return e+m+f+m+(j.isUndefined(d)?k:d)}function h(a,b,c,d){var e=""+b,f=""+c;if(!a&&e>f){var g=e;e=f,f=g}var h={v:e,w:f};return d&&(h.name=d),h}function i(a,b){return g(a,b.v,b.w,b.name)}var j=a("./lodash");b.exports=d;var k="\x00",l="\x00",m="";d.prototype._nodeCount=0,d.prototype._edgeCount=0,d.prototype.isDirected=function(){return this._isDirected},d.prototype.isMultigraph=function(){return this._isMultigraph},d.prototype.isCompound=function(){return this._isCompound},d.prototype.setGraph=function(a){return this._label=a,this},d.prototype.graph=function(){return this._label},d.prototype.setDefaultNodeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultNodeLabelFn=a,this},d.prototype.nodeCount=function(){return this._nodeCount},d.prototype.nodes=function(){return j.keys(this._nodes)},d.prototype.sources=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._in[a])},this)},d.prototype.sinks=function(){return j.filter(this.nodes(),function(a){return j.isEmpty(this._out[a])},this)},d.prototype.setNodes=function(a,b){var c=arguments;return j.each(a,function(a){c.length>1?this.setNode(a,b):this.setNode(a)},this),this},d.prototype.setNode=function(a,b){return j.has(this._nodes,a)?(arguments.length>1&&(this._nodes[a]=b),this):(this._nodes[a]=arguments.length>1?b:this._defaultNodeLabelFn(a),this._isCompound&&(this._parent[a]=l,this._children[a]={},this._children[l][a]=!0),this._in[a]={},this._preds[a]={},this._out[a]={},this._sucs[a]={},++this._nodeCount,this)},d.prototype.node=function(a){return this._nodes[a]},d.prototype.hasNode=function(a){return j.has(this._nodes,a)},d.prototype.removeNode=function(a){var b=this;if(j.has(this._nodes,a)){var c=function(a){b.removeEdge(b._edgeObjs[a])};delete this._nodes[a],this._isCompound&&(this._removeFromParentsChildList(a),delete this._parent[a],j.each(this.children(a),function(a){this.setParent(a)},this),delete this._children[a]),j.each(j.keys(this._in[a]),c),delete this._in[a],delete this._preds[a],j.each(j.keys(this._out[a]),c),delete this._out[a],delete this._sucs[a],--this._nodeCount}return this},d.prototype.setParent=function(a,b){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j.isUndefined(b))b=l;else{b+="";for(var c=b;!j.isUndefined(c);c=this.parent(c))if(c===a)throw new Error("Setting "+b+" as parent of "+a+" would create create a cycle");this.setNode(b)}return this.setNode(a),this._removeFromParentsChildList(a),this._parent[a]=b,this._children[b][a]=!0,this},d.prototype._removeFromParentsChildList=function(a){delete this._children[this._parent[a]][a]},d.prototype.parent=function(a){if(this._isCompound){var b=this._parent[a];if(b!==l)return b}},d.prototype.children=function(a){if(j.isUndefined(a)&&(a=l),this._isCompound){var b=this._children[a];if(b)return j.keys(b)}else{if(a===l)return this.nodes();if(this.hasNode(a))return[]}},d.prototype.predecessors=function(a){var b=this._preds[a];return b?j.keys(b):void 0},d.prototype.successors=function(a){var b=this._sucs[a];return b?j.keys(b):void 0},d.prototype.neighbors=function(a){var b=this.predecessors(a);return b?j.union(b,this.successors(a)):void 0},d.prototype.filterNodes=function(a){function b(a){var f=d.parent(a);return void 0===f||c.hasNode(f)?(e[a]=f,f):f in e?e[f]:b(f)}var c=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});c.setGraph(this.graph()),j.each(this._nodes,function(b,d){a(d)&&c.setNode(d,b)},this),j.each(this._edgeObjs,function(a){c.hasNode(a.v)&&c.hasNode(a.w)&&c.setEdge(a,this.edge(a))},this);var d=this,e={};return this._isCompound&&j.each(c.nodes(),function(a){c.setParent(a,b(a))}),c},d.prototype.setDefaultEdgeLabel=function(a){return j.isFunction(a)||(a=j.constant(a)),this._defaultEdgeLabelFn=a,this},d.prototype.edgeCount=function(){return this._edgeCount},d.prototype.edges=function(){return j.values(this._edgeObjs)},d.prototype.setPath=function(a,b){var c=this,d=arguments;return j.reduce(a,function(a,e){return d.length>1?c.setEdge(a,e,b):c.setEdge(a,e),e}),this},d.prototype.setEdge=function(){var a,b,c,d,f=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(a=i.v,b=i.w,c=i.name,2===arguments.length&&(d=arguments[1],f=!0)):(a=i,b=arguments[1],c=arguments[3],arguments.length>2&&(d=arguments[2],f=!0)),a=""+a,b=""+b,j.isUndefined(c)||(c=""+c);var k=g(this._isDirected,a,b,c);if(j.has(this._edgeLabels,k))return f&&(this._edgeLabels[k]=d),this;if(!j.isUndefined(c)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(b),this._edgeLabels[k]=f?d:this._defaultEdgeLabelFn(a,b,c);var l=h(this._isDirected,a,b,c);return a=l.v,b=l.w,Object.freeze(l),this._edgeObjs[k]=l,e(this._preds[b],a),e(this._sucs[a],b),this._in[b][k]=l,this._out[a][k]=l,this._edgeCount++,this},d.prototype.edge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return this._edgeLabels[d]},d.prototype.hasEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c);return j.has(this._edgeLabels,d)},d.prototype.removeEdge=function(a,b,c){var d=1===arguments.length?i(this._isDirected,arguments[0]):g(this._isDirected,a,b,c),e=this._edgeObjs[d];return e&&(a=e.v,b=e.w,delete this._edgeLabels[d],delete this._edgeObjs[d],f(this._preds[b],a),f(this._sucs[a],b),delete this._in[b][d],delete this._out[a][d],this._edgeCount--),this},d.prototype.inEdges=function(a,b){var c=this._in[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.v===b}):d}},d.prototype.outEdges=function(a,b){var c=this._out[a];if(c){var d=j.values(c);return b?j.filter(d,function(a){return a.w===b}):d}},d.prototype.nodeEdges=function(a,b){var c=this.inEdges(a,b);return c?c.concat(this.outEdges(a,b)):void 0}},{"./lodash":20}],18:[function(a,b,c){b.exports={Graph:a("./graph"),version:a("./version")}},{"./graph":17,"./version":21}],19:[function(a,b,c){function d(a){var b={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:e(a),edges:f(a)};return h.isUndefined(a.graph())||(b.value=h.clone(a.graph())),b}function e(a){return h.map(a.nodes(),function(b){var c=a.node(b),d=a.parent(b),e={v:b};return h.isUndefined(c)||(e.value=c),h.isUndefined(d)||(e.parent=d),e})}function f(a){return h.map(a.edges(),function(b){var c=a.edge(b),d={v:b.v,w:b.w};return h.isUndefined(b.name)||(d.name=b.name),h.isUndefined(c)||(d.value=c),d})}function g(a){var b=new i(a.options).setGraph(a.value);return h.each(a.nodes,function(a){b.setNode(a.v,a.value),a.parent&&b.setParent(a.v,a.parent)}),h.each(a.edges,function(a){b.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),b}var h=a("./lodash"),i=a("./graph");b.exports={write:d,read:g}},{"./graph":17,"./lodash":20}],20:[function(a,b,c){var d;if("function"==typeof a)try{d=a("lodash")}catch(e){}d||(d=window._),b.exports=d},{lodash:void 0}],21:[function(a,b,c){b.exports="1.0.7"},{}]},{},[1]);
//# sourceMappingURL=graphlib.min.js.map